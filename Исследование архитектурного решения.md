 # Исследование архитектурного решения

 ## Проектирование архитектуры

1. Тип приложения:
Разрабатываемая система представляет собой компьютерную игру, схожую с Heroes of Might and Magic III. Таким образом, это игровое приложение, которое является представителем жанра стратегия с элементами RPG.

2. Стратегия развёртывания:
В качестве стратегии развёртывания можно выбрать модель "самостоятельное развертывание" (self-deployment). Это означает, что игра будет доступна для скачивания и установки на устройства конечного пользователя напрямую, без необходимости привлечения сторонних сервисов или платформ. Это позволит пользователям устанавливать и играть в игру независимо от интернет-соединения.

3. Выбор технологии:
Игра разрабатывается на C++ с использованием библиотеки SDL2. Этот выбор технологии обоснован высокой производительностью, близким к металлу уровнем абстракции и широкой поддержкой для различных операционных систем. SDL2 обеспечивает низкоуровневый доступ к графическим и аудио-ресурсам, что идеально подходит для разработки игровых приложений. Кроме того, использование C++ обеспечивает высокую производительность и контроль над памятью, что важно для игр.

4. Показатели качества:
    - Производительность: Игра должна обеспечивать плавную анимацию и отзывчивое управление даже на старых или менее мощных компьютерах.
    - Стабильность: Приложение должно быть стабильным и не подверженным сбоям, чтобы обеспечить приятный игровой опыт.
    - Геймплей: Игра должна быть увлекательной, сбалансированной и обладать достаточным количеством контента, чтобы привлечь и удержать игроков.
    - Совместимость: Приложение должно быть совместимым с различными операционными системами и разрешениями экранов.

5. Пути реализации сквозной функциональности:
В контексте игрового приложения под сквозной функциональностью обычно понимаются функции, которые охватывают различные аспекты игры и связывают их воедино, обеспечивая единую игровую среду. Для реализации сквозной функциональности можно использовать:

    - Механики геймплея: Включение различных игровых механик, таких как управление армией, сражения, пошаговый стратегический геймплей и т.д., чтобы обеспечить глубокий и увлекательный игровой процесс.
    - Графика и анимация: Разработка высококачественной графики и анимации для создания привлекательной игровой среды.
    - Музыка и звук: Включение качественного звукового сопровождения и музыки для поддержки атмосферы игры.
    - Искусственный интеллект: Реализация умного искусственного интеллекта для управления вражескими юнитами и создания вызова для игрока.
    - Сетевая игра: Возможность игры по сети для многопользовательского опыта.

6. Структура приложения в ввиде функциональных блоков


![image](./drafts/Структурная%20схема.png)

 ## Анализ архитектуры

 Диаграммы классов и документация к проекту создана при помощи инструмента doxygen. Предоставляет наиоболее полную документацию проекта, описывающую его текущее состояние.

 [Documentation Link](https://codowka-entertaiment.github.io/buhurts-and-hobbyhorsing-docs/html/index.html)

  ## Сравнениие и рефакторинг

Главными отличиями в диаграммах являются нереализованные (на текущий момент) блоки. 
На данный момент реализованы:

- Графический движок
- Аудио система
- Обработка пользовательского ввода

Необходимо реализовать:

- Игровая логика
- ИИ
- Сетевая подсистема

Можно выделить следующие пути улучшения архитектуры:

- Применение шаблонов проектирования:

    - Шаблон «Стратегия»: Использование этого шаблона для разделения алгоритмов (например, алгоритмов боя, ИИ и т. д.) от их контекста, что позволит легко добавлять и изменять алгоритмы в игре.
    - Шаблон «Наблюдатель»(уже используется): Применение этого шаблона для реализации механизмов оповещения компонентов о изменениях состояния игровых объектов (например, обновление интерфейса при изменении игрового мира).
- Разделение ответственностей:

    - Введение модульности и разделение игрового движка на компоненты, отвечающие за отображение графики, обработку аудио, управление игровой логикой и т. д.
    - Использование принципа единственной ответственности (Single Responsibility Principle), чтобы каждый компонент был ответственен только за одну четко определенную функцию.
- Использование паттернов архитектуры:

    - Модель-Представление-Контроллер (Model-View-Controller, MVC): Разделение игровой логики (модели), пользовательского интерфейса (представления) и управления пользовательским вводом (контроллера) для обеспечения более гибкой и поддерживаемой архитектуры.
    - Состояние (State): Использование этого паттерна для моделирования различных состояний игрового процесса (например, состояний игрового уровня, экранов меню и т. д.).
- Применение архитектурных стилей:

    - Игровая петля (Game Loop): Реализация игровой петли для управления основным циклом игры, обработки пользовательского ввода, обновления игровых объектов и отображения графики. Это позволит обеспечить единый и управляемый игровой процесс.
    - Клиент-серверная архитектура: Если игра поддерживает многопользовательский режим, разделение игровой логики между клиентом и сервером может повысить масштабируемость и безопасность.
- Применение принципов SOLID:

    - Принцип открытости/закрытости (Open/Closed Principle): Создание расширяемой архитектуры, которая позволяет легко добавлять новые функции без изменения существующего кода.
    - Принцип инверсии зависимостей (Dependency Inversion Principle): Использование интерфейсов и абстракций для уменьшения зависимости между компонентами и обеспечения легкости замены или расширения функциональности.